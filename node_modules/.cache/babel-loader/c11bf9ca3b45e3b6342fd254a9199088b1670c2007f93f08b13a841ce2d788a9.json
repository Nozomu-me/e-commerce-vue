{"ast":null,"code":"var store = require('store');\nvar copy = require('deep-copy');\nvar globalState; // avoid garbage collection\n\nexports.install = function (Vue, initialState) {\n  // get state from localStorage\n  var state = {};\n  for (var key in initialState) {\n    var val = store.get(key, initialState[key]);\n    // initial population to localStorage\n    store.set(key, val);\n    state[key] = val;\n  }\n  // make sure nested objects in initialState are not mutated\n  state = copy(state);\n\n  // watch for changes\n  globalState = new Vue({\n    data: state,\n    watch: createWatchConfig(state)\n  });\n  Vue.mixin({\n    data: function data() {\n      return state;\n    }\n  });\n  // make store API available through $store\n  Vue.prototype.$store = store;\n};\nfunction createWatchConfig(state) {\n  var watch = {};\n  var _loop = function _loop(key) {\n    watch[key] = {\n      deep: true,\n      handler: function handler(newValue, oldValue) {\n        store.set(key, newValue);\n      }\n    };\n  };\n  for (var key in state) {\n    _loop(key);\n  }\n  return watch;\n}","map":{"version":3,"names":["store","require","copy","globalState","exports","install","Vue","initialState","state","key","val","get","set","data","watch","createWatchConfig","mixin","prototype","$store","_loop","deep","handler","newValue","oldValue"],"sources":["C:/Users/aouassit/Desktop/e-commerce-vue/node_modules/vue-persistent-state/index.js"],"sourcesContent":["const store = require('store')\nconst copy = require('deep-copy')\n\nlet globalState  // avoid garbage collection\n\nexports.install = function (Vue, initialState) {\n  // get state from localStorage\n  let state = {}\n  for (let key in initialState) {\n    let val = store.get(key, initialState[key])\n    // initial population to localStorage\n    store.set(key, val)\n    state[key] = val\n  }\n  // make sure nested objects in initialState are not mutated\n  state = copy(state)\n\n  // watch for changes\n  globalState = new Vue({\n    data: state,\n    watch: createWatchConfig(state),\n  })\n\n  Vue.mixin({\n    data: function () {\n      return state\n    },\n  })\n  // make store API available through $store\n  Vue.prototype.$store = store\n}\n\nfunction createWatchConfig (state) {\n  let watch = {}\n  for (let key in state) {\n    watch[key] = {\n      deep: true,\n      handler: function (newValue, oldValue) {\n        store.set(key, newValue)\n      }\n    }\n  }\n  return watch\n}\n"],"mappings":"AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,IAAMC,IAAI,GAAGD,OAAO,CAAC,WAAW,CAAC;AAEjC,IAAIE,WAAW,EAAE;;AAEjBC,OAAO,CAACC,OAAO,GAAG,UAAUC,GAAG,EAAEC,YAAY,EAAE;EAC7C;EACA,IAAIC,KAAK,GAAG,CAAC,CAAC;EACd,KAAK,IAAIC,GAAG,IAAIF,YAAY,EAAE;IAC5B,IAAIG,GAAG,GAAGV,KAAK,CAACW,GAAG,CAACF,GAAG,EAAEF,YAAY,CAACE,GAAG,CAAC,CAAC;IAC3C;IACAT,KAAK,CAACY,GAAG,CAACH,GAAG,EAAEC,GAAG,CAAC;IACnBF,KAAK,CAACC,GAAG,CAAC,GAAGC,GAAG;EAClB;EACA;EACAF,KAAK,GAAGN,IAAI,CAACM,KAAK,CAAC;;EAEnB;EACAL,WAAW,GAAG,IAAIG,GAAG,CAAC;IACpBO,IAAI,EAAEL,KAAK;IACXM,KAAK,EAAEC,iBAAiB,CAACP,KAAK;EAChC,CAAC,CAAC;EAEFF,GAAG,CAACU,KAAK,CAAC;IACRH,IAAI,EAAE,SAAAA,KAAA,EAAY;MAChB,OAAOL,KAAK;IACd;EACF,CAAC,CAAC;EACF;EACAF,GAAG,CAACW,SAAS,CAACC,MAAM,GAAGlB,KAAK;AAC9B,CAAC;AAED,SAASe,iBAAiBA,CAAEP,KAAK,EAAE;EACjC,IAAIM,KAAK,GAAG,CAAC,CAAC;EAAA,IAAAK,KAAA,YAAAA,MAAAV,GAAA,EACS;IACrBK,KAAK,CAACL,GAAG,CAAC,GAAG;MACXW,IAAI,EAAE,IAAI;MACVC,OAAO,EAAE,SAAAA,QAAUC,QAAQ,EAAEC,QAAQ,EAAE;QACrCvB,KAAK,CAACY,GAAG,CAACH,GAAG,EAAEa,QAAQ,CAAC;MAC1B;IACF,CAAC;EACH,CAAC;EAPD,KAAK,IAAIb,GAAG,IAAID,KAAK;IAAAW,KAAA,CAAAV,GAAA;EAAA;EAQrB,OAAOK,KAAK;AACd"},"metadata":{},"sourceType":"script","externalDependencies":[]}